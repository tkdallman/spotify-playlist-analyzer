(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{186:function(t,e,r){"use strict";var n=r(187),c=r.n(n);e.default=c.a},187:function(t,e){},188:function(t,e,r){var content=r(190);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(63).default)("e46b6ba2",content,!0,{sourceMap:!1})},189:function(t,e,r){"use strict";r(188)},190:function(t,e,r){(e=r(62)(!1)).push([t.i,".NuxtLogo{-webkit-animation:appear 1s;animation:appear 1s;margin:auto}@-webkit-keyframes appear{0%{opacity:0}to{opacity:1}}@keyframes appear{0%{opacity:0}to{opacity:1}}",""]),t.exports=e},191:function(t,e,r){"use strict";var n=r(192),c=r(186),l=r(26),component=Object(l.a)(c.default,n.a,n.b,!1,null,null,null);e.default=component.exports},192:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return c}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{width:"44",height:"44",viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd","stroke-width":"2"}},[e("circle",{attrs:{cx:"22",cy:"22",r:"1"}},[e("animate",{attrs:{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}}),e("animate",{attrs:{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}})]),e("circle",{attrs:{cx:"22",cy:"22",r:"1"}},[e("animate",{attrs:{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}}),e("animate",{attrs:{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}})])])])},c=[]},193:function(t,e,r){"use strict";r.r(e);r(34),r(17),r(18),r(10),r(27);var n=r(15),c=(r(29),r(2)),l=r(185),o=(r(189),r(26)),d=Object(o.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"NuxtLogo",attrs:{width:"245",height:"180",viewBox:"0 0 452 342",xmlns:"http://www.w3.org/2000/svg"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[e("path",{attrs:{d:"M139 330l-1-2c-2-4-2-8-1-13H29L189 31l67 121 22-16-67-121c-1-2-9-14-22-14-6 0-15 2-22 15L5 303c-1 3-8 16-2 27 4 6 10 12 24 12h136c-14 0-21-6-24-12z",fill:"#00C58E"}}),this._v(" "),e("path",{attrs:{d:"M447 304L317 70c-2-2-9-15-22-15-6 0-15 3-22 15l-17 28v54l39-67 129 230h-49a23 23 0 0 1-2 14l-1 1c-6 11-21 12-23 12h76c3 0 17-1 24-12 3-5 5-14-2-26z",fill:"#108775"}}),this._v(" "),e("path",{attrs:{d:"M376 330v-1l1-2c1-4 2-8 1-12l-4-12-102-178-15-27h-1l-15 27-102 178-4 12a24 24 0 0 0 2 15c4 6 10 12 24 12h190c3 0 18-1 25-12zM256 152l93 163H163l93-163z",fill:"#2F495E","fill-rule":"nonzero"}})])])}),[],!1,null,null,null).exports,f={props:{text:{type:String,required:!0},clickFn:{type:[Promise,Function],required:!0}}},y=Object(o.a)(f,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{on:{click:function(e){return t.clickFn()}}},[t._v(t._s(t.text))])}),[],!1,null,null,null).exports,h={name:"Card"},v=Object(o.a)(h,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"card"},[this._t("default")],2)}),[],!1,null,null,null).exports;function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var k={components:{Card:v},computed:m(m({},Object(l.b)({activePlaylist:function(t){return t.activePlaylist},playlistTrackData:function(t){return t.playlistTrackData}})),{},{totalTracks:function(){return Object.keys(this.playlistTrackData).length},avgHappiness:function(){var t=this;return(Object.keys(this.playlistTrackData).reduce((function(e,r){return e+t.playlistTrackData[r].valence}),0)/this.totalTracks).toFixed(3)},happinessEmoji:function(){return this.happiness<.333?"😔":this.happiness<.666?"😐":"😊"},avgDanciness:function(){var t=this;return(Object.keys(this.playlistTrackData).reduce((function(e,r){return e+t.playlistTrackData[r].danceability}),0)/this.totalTracks).toFixed(3)},avgTempo:function(){var t=this,e=Object.keys(this.playlistTrackData).reduce((function(e,r){return e+t.playlistTrackData[r].tempo}),0)/this.totalTracks;return Math.round(e)},avgLength:function(){var t=this,e=Object.keys(this.playlistTrackData).reduce((function(e,r){return e+t.playlistTrackData[r].duration_ms}),0)/this.totalTracks,r=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return r+":"+(n<10?"0":"")+n},popularity:function(){var t=this.activePlaylist.items.reduce((function(t,e){return t+e.track.popularity}),0)/this.totalTracks;return t<20?"super underground, man":t<50?"indie":"mainstream"}})},O=Object(o.a)(k,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Card",[r("div",{staticClass:"card__header"},[r("h2",{staticClass:"card__heading"},[t._v(t._s(t.activePlaylist.name?t.activePlaylist.name:""))]),r("h5",{staticClass:"card__subheading"},[t._v("(based on the first 50 tracks...)")])]),r("ul",{staticClass:"card__content-box"},[r("li",[r("strong",[t._v("Average Happiness:")]),r("p",[t._v(t._s(t.avgHappiness))]),r("div",{staticClass:"page__emoji"},[t._v(t._s(t.happinessEmoji))])]),r("li",[r("strong",[t._v("Average Danciness:")]),r("p",[t._v(t._s(t.avgDanciness))]),r("div",{staticClass:"page__emoji",class:{"page__emoji--crossed":t.avgDanciness<.5}},[t._v("💃")])]),r("li",[r("strong",[t._v("Average Tempo:")]),r("p",[t._v(t._s(t.avgTempo)+" bpm")])]),r("li",[r("strong",[t._v("Average Track Length:")]),r("p",[t._v(t._s(t.avgLength))])]),r("li",[r("strong",[t._v("Song Popularity:")]),r("p",[t._v(t._s(t.popularity))])])])])}),[],!1,null,null,null).exports;r(61);function j(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var P={components:{Loader:r(191).default},props:{song:{type:Object,required:!0},darkTheme:{type:Boolean}},computed:w(w({},Object(l.b)({playlistTrackData:function(t){return t.playlistTrackData},isLoading:function(t){return t.isLoading}})),{},{track:function(){return this.song.track},artists:function(){return this.track.artists.reduce((function(t,e){return t+" "+e.name}),"")},trackData:function(){return this.playlistTrackData[this.song.track.id]||void 0},displayedFields:function(){return["Key","Tempo","Energy","Danceability","Valence"]},translatedKey:function(){return{0:"C",1:"C♯/D♭",2:"D",3:"D♯/E♭",4:"E",5:"F",6:"F♯/G♭",7:"G",8:"G♯/A♭",9:"A",10:"A#/B♭",11:"B"}[this.trackData.key]},translatedMode:function(){switch(this.trackData.mode){case"0":return"min";case"1":return"maj";default:return""}},translatedValence:function(){var t=this.trackData.valence;return"".concat(t,t<.333?" 😔":t<.666?" 😐":" 😊")}})};function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function D(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var T={name:"FooterCard",components:{Card:v,Song:Object(o.a)(P,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"song",class:{"song--dark":t.darkTheme}},[r("div",{staticClass:"song__title"},[r("h2",[t._v(t._s(t.track.name))]),r("h3",[t._v(t._s(t.artists))])]),r("div",{staticClass:"song__track-info"},[t.isLoading&&!t.trackData?[r("Loader")]:t._e(),t.trackData?t._l(t.displayedFields,(function(e){return r("p",[r("strong",[t._v(t._s(e+": "))]),r("span","Key"===e?[t._v(t._s(t.translatedKey))]:"Valence"===e?[t._v(t._s(t.translatedValence))]:"Tempo"===e?[t._v(t._s(Math.round(t.trackData[e.toLowerCase()])+" bpm"))]:[t._v(t._s(t.trackData[e.toLowerCase()]))])])})):t._e()],2)])}),[],!1,null,null,null).exports},computed:D({},Object(l.b)({activePlaylist:function(t){return t.activePlaylist}})),methods:D(D({},Object(l.a)(["sortPlaylist"])),{},{changeSort:function(t){this.sortPlaylist(t.target.value)}})},x=Object(o.a)(T,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Card",[r("div",{staticClass:"card__header"},[r("div",{staticClass:"card__sort"},[r("h4",[t._v("Sort:")]),r("select",{attrs:{id:"SortBy"},on:{change:t.changeSort}},[r("option",[t._v("Select a method...")]),r("option",[t._v("Key")]),r("option",[t._v("Tempo")]),r("option",[t._v("Energy")]),r("option",[t._v("Danceability")])])])]),t._l(t.activePlaylist.items,(function(t,e){return r("ul",[r("Song",{attrs:{song:t,darkTheme:e%2!=0}})],1)}))],2)}),[],!1,null,null,null).exports,S={name:"FooterCard",components:{Card:v}},E=Object(o.a)(S,(function(){var t=this.$createElement,e=this._self._c||t;return e("Card",[e("div",{staticClass:"card__footer"},[e("h4",{staticClass:"card__small-header"},[this._v("Notes :")]),e("ul",[e("li",{staticClass:"card__list-item"},[this._v("This is mostly for fun, this data doesn't actually appear to be super accurate i.e. bpm values often have 3 decimal places")]),e("li",{staticClass:"card__list-item"},[this._v(" "+this._s("Ratings like happiness are based on valence, which is a Spotify algorithm. More information can be found ")),e("a",{attrs:{href:"https://developer.spotify.com/documentation/web-api/reference/tracks/get-audio-features/"}},[this._v("here")])]),e("li",{staticClass:"card__list-item"},[this._v(" This was built by tkdallman@gmail.com using VueJS and Nuxt")])])])])}),[],!1,null,null,null).exports,A={name:"ItemList",props:{items:{type:Array,required:!0},clickFn:{type:Function,required:!0}}},F={name:"Error"};function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function M(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var B={components:{Logo:d,Button:y,Card:v,DetailsCard:O,SongsCard:x,FooterCard:E,ItemList:Object(o.a)(A,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"item-list"},t._l(t.items,(function(e){return r("li",{staticClass:"item-list__item"},[r("a",{staticClass:"item-list__link",attrs:{role:"button"},on:{click:function(r){return t.clickFn([e.id,e.name])}}},[t._v(t._s(e.name))])])})),0)}),[],!1,null,null,null).exports,Error:Object(o.a)(F,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"error"},[this._v("Something has happened! Usually this relates to how many requests can be made to Spotify at a time and can be fixed by simply going back and retrying.\nSorry for the inconvenience.")])}),[],!1,null,null,null).exports},fetch:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.store,!(n=t.route).hash){e.next=5;break}return r.dispatch("setAccessToken",n.hash),e.next=5,r.dispatch("getPlaylists");case 5:case"end":return e.stop()}}),e)})))()},computed:M(M({},Object(l.b)({isLoading:function(t){return t.isLoading},isLoggedIn:function(t){return t.isLoggedIn},playlists:function(t){return t.playlists},activePlaylist:function(t){return t.activePlaylist},playlistTrackData:function(t){return t.playlistTrackData},showErrorMessage:function(t){return t.showErrorMessage}})),{},{playlistActive:function(){var t;return(null===(t=this.activePlaylist)||void 0===t?void 0:t.items)||!1},showMoreButton:function(){var t;return(null===(t=this.activePlaylist)||void 0===t?void 0:t.next)||!1},totalTracks:function(){return Object.keys(this.playlistTrackData).length},hasTracks:function(){return this.totalTracks>0}}),methods:M(M({},Object(l.a)(["setAccessToken","getPlaylists","getPlaylist","getMoreTracks","clearActivePlaylist"])),{},{authorizeUser:function(){window.location.href="https://accounts.spotify.com/authorize?client_id=c1d9eac11b924974befb50e216500a9a&redirect_uri=https:%2F%2Ftkdallman.github.io%2Fspotify-playlist-analyzer%2F&scope=user-read-private%20user-read-email%20playlist-read-private%20playlist-read-collaborative&response_type=token"},getPlaylistAndScroll:function(t){window.scrollTo(0,0),this.getPlaylist(t)},clearPlaylistAndScroll:function(){window.scrollTo(0,0),this.clearActivePlaylist()}}),head:function(){return{title:"Spotify Playlist Analyzer",meta:[{hid:"description",name:"description",content:"A Spotify Playlist Analyzer built by TK Dallman"}]}}},z=Object(o.a)(B,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page"},[r("div",{staticClass:"page__container"},[r("h1",{staticClass:"page__title"},[t._v("Spotify Playlist Analyzer")]),r("div",{staticClass:"page__buttons"},[r("transition",{attrs:{name:"slide-top"}},[t.isLoggedIn?t._e():r("Button",{attrs:{text:"Authorize",clickFn:t.authorizeUser}}),t.playlistActive?r("Button",{attrs:{text:"Back",clickFn:t.clearActivePlaylist}}):t._e()],1)],1),r("transition",{attrs:{name:"slide-fade"}},[!t.playlistActive&&t.playlists.length>0?r("Card",[r("ItemList",{attrs:{items:t.playlists,clickFn:t.getPlaylistAndScroll}})],1):t._e()],1),r("transition",{attrs:{name:"slide-fade"}},[t.playlistActive&&t.hasTracks||t.showErrorMessage?r("div",{staticClass:"page__cards"},[t.showErrorMessage?r("Card",[r("Error")],1):t._e(),t.hasTracks?r("DetailsCard"):t._e(),r("SongsCard")],1):t._e()]),r("Button",{directives:[{name:"show",rawName:"v-show",value:t.playlistActive,expression:"playlistActive"}],attrs:{text:"Back",clickFn:t.clearPlaylistAndScroll}}),t.showMoreButton?r("Button",{attrs:{text:"More",clickFn:t.getMoreTracks(t.activePlaylist.next)}}):t._e(),r("FooterCard")],1)])}),[],!1,null,null,null);e.default=z.exports}}]);